import{r as g,j as e}from"./index-DGdf-3Kq.js";function v({onPrevious:n,onNext:a,onSave:d,canGoPrevious:s,canGoNext:c}){const[o,m]=g.useState("");return e.jsxs("div",{className:"bg-white border-t border-gray-200 px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{type:"button",onClick:n,disabled:!s,className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${s?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-gray-50 text-gray-400 cursor-not-allowed"}`,children:"Previous"}),e.jsx("button",{type:"button",onClick:d,className:"px-4 py-2 text-sm font-medium bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Save"}),e.jsx("button",{type:"button",onClick:a,disabled:!c,className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${c?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-50 text-gray-400 cursor-not-allowed"}`,children:"Save & Next"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{htmlFor:"notes",className:"text-sm font-medium text-gray-700",children:"Notes:"}),e.jsx("input",{type:"text",id:"notes",value:o,onChange:h=>m(h.target.value),placeholder:"Add notes about this question...",className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsx("button",{type:"button",className:"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors",children:"Skip"})]})]}),e.jsx("div",{className:"mt-3 text-xs text-gray-500",children:"Keyboard shortcuts: 0-3 for scoring, Enter to save & next, Escape to skip"})]})}function N({session:n,currentQuestionIndex:a,totalQuestions:d}){const s=d>0?(a+1)/d*100:0;return e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:n.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n.description})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Question ",a+1," of ",d]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(s),"% complete"]})]}),e.jsx("div",{className:"w-32",children:e.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${s}%`}})})})]})]})})}function w({session:n,annotations:a,currentQuestionIndex:d}){const s=new Set(a.map(i=>i.questionId)).size,c=n.questions.length,o=c>0?s/c*100:0,m=i=>{const l=a.filter(t=>t.questionId===i);return l.length===0?"pending":l.length>0?"completed":"in-progress"},h=i=>{switch(i){case"completed":return"bg-green-100 text-green-800";case"in-progress":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Session Progress"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Completion"}),e.jsxs("span",{className:"font-medium",children:[Math.round(o),"%"]})]}),e.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${o}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s}),e.jsx("div",{className:"text-gray-600",children:"Completed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:c-s}),e.jsx("div",{className:"text-gray-600",children:"Remaining"})]})]})]})]}),e.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Question Status"}),e.jsx("div",{className:"space-y-2",children:n.questions.map((i,l)=>{const t=m(i.id),r=l===d;return e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-md text-sm ${r?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"font-medium text-gray-900 truncate",children:["Q",l+1,": ",i.text.substring(0,30),"..."]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[i.type," • ",i.generatedBy]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${h(t)}`,children:t})]},i.id)})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Quality Checks"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"All documents scored"}),e.jsx("span",{className:"text-green-600",children:"✓"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Consistent scoring"}),e.jsx("span",{className:"text-green-600",children:"✓"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"No skipped questions"}),e.jsx("span",{className:"text-green-600",children:"✓"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Review Queue"}),e.jsx("div",{className:"text-sm text-gray-600",children:"No questions flagged for review"})]})]})}),e.jsx("div",{className:"p-6 border-t border-gray-200",children:e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsxs("div",{children:["Session ID: ",n.id]}),e.jsxs("div",{children:["Created: ",n.createdAt.toLocaleDateString()]}),e.jsxs("div",{children:["Last updated: ",n.updatedAt.toLocaleDateString()]})]})})]})}function S({documents:n,annotations:a,onAnnotationChange:d}){const[s,c]=g.useState(new Set),o=[{id:"doc1",title:"Installation Guide",content:"This guide will walk you through the installation process step by step. First, download the installer from our website. Make sure you have administrator privileges on your system. Run the installer and follow the on-screen instructions. The installation typically takes 5-10 minutes depending on your system specifications.",contentType:"guide",metadata:{}},{id:"doc2",title:"System Requirements",content:"Before installing the application, ensure your system meets the following requirements: Windows 10 or later, 4GB RAM minimum, 2GB free disk space, DirectX 11 compatible graphics card. For optimal performance, we recommend Windows 11 with 8GB RAM and an SSD.",contentType:"reference",metadata:{}},{id:"doc3",title:"Troubleshooting Common Issues",content:"If you encounter problems during installation, try these common solutions. Check your antivirus settings and temporarily disable it during installation. Ensure you have sufficient disk space. Run the installer as administrator. If the problem persists, check our support forum for specific error codes.",contentType:"troubleshooting",metadata:{}}],m=n.length>0?n:o,h=t=>{const r=new Set(s);r.has(t)?r.delete(t):r.add(t),c(r)},i=t=>a.find(r=>r.documentId===t),l=t=>{switch(t){case"guide":return"bg-blue-100 text-blue-800";case"reference":return"bg-green-100 text-green-800";case"troubleshooting":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx("div",{className:"h-full overflow-y-auto p-6",children:e.jsx("div",{className:"space-y-4",children:m.map(t=>{const r=i(t.id),y=s.has(t.id),p=150,f=y?t.content:t.content.length>p?`${t.content.substring(0,p)}...`:t.content;return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t.title}),e.jsx("div",{className:"flex items-center space-x-2 mb-2",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l(t.contentType)}`,children:t.contentType})})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:f}),t.content.length>p&&e.jsx("button",{type:"button",onClick:()=>h(t.id),className:"text-blue-600 hover:text-blue-800 text-sm mt-2",children:y?"Show less":"Show more"})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Relevancy Score:"}),e.jsx("div",{className:"flex space-x-2",children:[0,1,2,3].map(x=>e.jsx("button",{type:"button",onClick:()=>d(t.id,x),className:`w-8 h-8 rounded-full border-2 flex items-center justify-center text-sm font-medium transition-colors ${r?.relevancyScore===x?"bg-blue-600 border-blue-600 text-white":"border-gray-300 text-gray-700 hover:border-blue-400 hover:text-blue-600"}`,children:x},x))})]}),r?.relevancyScore!==void 0&&e.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[r.relevancyScore===0&&"Not Relevant: No information related to the question",r.relevancyScore===1&&"Slightly Relevant: Minimal or tangential information",r.relevancyScore===2&&"Relevant: Useful information that partially answers",r.relevancyScore===3&&"Highly Relevant: Comprehensive information that directly answers"]})]})]},t.id)})})})}function A({question:n}){return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${n.type==="answerable"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:n.type}),e.jsx("span",{className:"text-xs text-gray-500",children:n.generatedBy})]}),e.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-600","aria-label":"View question details",children:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:n.text}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",n.createdAt.toLocaleDateString()]})]}),e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Question Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md",children:"Flag for review"}),e.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md",children:"Add notes"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Annotation Guidelines"}),e.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"0 - Not Relevant:"})," No information related to the question"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"1 - Slightly Relevant:"})," Minimal or tangential information"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"2 - Relevant:"})," Useful information that partially answers"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"3 - Highly Relevant:"})," Comprehensive information that directly answers"]})]})]})]})})]})}function k({sessionId:n}){const[a,d]=g.useState(null),[s,c]=g.useState(0),[o,m]=g.useState([]),[h,i]=g.useState(!0);g.useEffect(()=>{d({id:"session-1",name:"Sample Annotation Session",description:"Testing annotation interface",documentSampleId:"sample-1",questions:[{id:"q1",text:"How do I install the application?",type:"answerable",generatedBy:"llm",createdAt:new Date,updatedAt:new Date,documentSampleId:"sample-1",status:"accepted"},{id:"q2",text:"What are the system requirements?",type:"answerable",generatedBy:"llm",createdAt:new Date,updatedAt:new Date,documentSampleId:"sample-1",status:"accepted"}],annotations:[],progress:{total:2,completed:0,remaining:2},createdAt:new Date,updatedAt:new Date}),i(!1)},[]);const l=a?.questions[s],t=o.filter(x=>x.questionId===l?.id),r=(x,b)=>{const j=o.findIndex(u=>u.questionId===l?.id&&u.documentId===x);if(j>=0){const u=[...o];u[j]={...u[j],relevancyScore:b,updatedAt:new Date},m(u)}else if(l){const u={id:`annotation-${Date.now()}`,questionId:l.id,documentId:x,relevancyScore:b,createdAt:new Date,updatedAt:new Date};m([...o,u])}},y=()=>{s<(a?.questions.length||0)-1&&c(s+1)},p=()=>{s>0&&c(s-1)},f=()=>{console.log("Saving annotations:",o)};return h?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-lg",children:"Loading annotation session..."})}):!a||!l?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-lg",children:"No annotation session found"})}):e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx(N,{session:a,currentQuestionIndex:s,totalQuestions:a.questions.length}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsx("div",{className:"w-1/3 border-r border-gray-200 bg-white",children:e.jsx(A,{question:l})}),e.jsx("div",{className:"flex-1 bg-white",children:e.jsx(S,{documents:[],annotations:t,onAnnotationChange:r})})]}),e.jsx(v,{onPrevious:p,onNext:y,onSave:f,canGoPrevious:s>0,canGoNext:s<a.questions.length-1})]}),e.jsx("div",{className:"w-80 border-l border-gray-200 bg-white",children:e.jsx(w,{session:a,annotations:o,currentQuestionIndex:s})})]})}const D=function(){return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx(k,{})})};export{D as component};
